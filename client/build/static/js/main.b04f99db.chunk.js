(this.webpackJsonpdb_frontend=this.webpackJsonpdb_frontend||[]).push([[0],{126:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(10),s=n.n(i),o=(n(126),n(100)),l=n(17),d=n(31),u=n(87),j=n(88),m=n(101),h=n(98),p=n(16),b=n(12),x=n(99),f=n(184),O=n(11),g=n(187),v=n(189),C=n(103),E=n(190),y=n(92),N=n.n(y),S=n(105),w=Object(r.createContext)(),P=w.Provider,F=w.Consumer,_=n(204),U=n(97),T=n(93),D=n.n(T),k=n(154),B=Object(f.a)((function(e){return{root:{flexGrow:1},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function W(){var e=B(),t=c.a.useState(null),n=Object(x.a)(t,2),r=n[0],i=n[1],s=Boolean(r),o=function(e){i(e.currentTarget)},l=function(){i(null)};return Object(a.jsx)(F,{children:function(t){var n=t.currentUser,c=t.handleLogout;return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(g.a,{position:"static",color:"primary",children:Object(a.jsxs)(v.a,{children:[Object(a.jsx)(C.a,{component:p.b,to:"/",style:{textDecoration:"none",color:"inherit"},variant:"h6",children:"Lost & Found Item"}),Object(a.jsxs)("div",{className:e.search,children:[Object(a.jsx)("div",{className:e.searchIcon,children:Object(a.jsx)(N.a,{})}),Object(a.jsx)(S.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput}})]}),Object(a.jsx)("div",{className:e.root}),!n&&Object(a.jsx)(E.a,{component:p.b,to:"/signin",color:"inherit",children:"Sign In"}),n&&Object(a.jsxs)("div",{children:[Object(a.jsx)(k.a,{onClick:o,color:"inherit",children:Object(a.jsx)(D.a,{})}),Object(a.jsxs)(U.a,{id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:l,children:[Object(a.jsx)(_.a,{onClick:l,component:p.b,to:"/profile/"+n.username,children:"Profile"}),Object(a.jsx)(_.a,{onClick:function(){l()},component:p.b,to:"/create",children:"New Notice"}),Object(a.jsx)(_.a,{onClick:function(){c(),l()},children:"Sign Out"})]})]})]})})})}})}var I=n(207),L=n(192),q=n(208),H=n(197),A=n(203),R=n(199),G=n(198),M=n(66),z=n.n(M),J=n(191),K=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function V(e){var t=K();return Object(r.useEffect)((function(){return function(){e.onUnmount()}}),[]),Object(a.jsx)(F,{children:function(e){var n=e.username,r=e.password1,c=e.handleLoginSubmit,i=e.onChange,s=e.wrongCredentials;return Object(a.jsxs)(J.a,{component:"main",maxWidth:"xs",onKeyPress:function(e){"Enter"===e.key&&c()},children:[Object(a.jsx)(L.a,{}),Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(I.a,{className:t.avatar,children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign in"}),s&&Object(a.jsx)(C.a,{color:"secondary",children:"User could not be found"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(a.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoFocus:!0,value:n,onChange:i}),Object(a.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password1",label:"Password",type:"password",id:"password",value:r,onChange:i}),Object(a.jsx)(H.a,{control:Object(a.jsx)(A.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(E.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:c,children:"Sign In"}),Object(a.jsxs)(G.a,{container:!0,children:[Object(a.jsx)(G.a,{item:!0,xs:!0,children:Object(a.jsx)(R.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(R.a,{component:p.b,to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})}})}var Q=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function X(e){var t=Q();return Object(r.useEffect)((function(){return function(){e.onUnmount()}}),[]),Object(a.jsx)(F,{children:function(e){var n=e.onChange,r=e.handleSignUpSubmit,c=e.fname,i=e.lname,s=e.username,o=e.password1,l=e.password2,d=e.email,u=e.fnameError,j=e.lnameError,m=e.usernameError,h=e.emailError,b=e.password1Error,x=e.password2Error,f=e.usernameExists,O=e.emailExists,g=e.signUpSuccsessful,v=e.handleFileSelect,y=e.selectedPPpath;return Object(a.jsxs)(J.a,{component:"main",maxWidth:"xs",onKeyPress:function(e){"Enter"===e.key&&r()},children:[Object(a.jsx)(L.a,{}),Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsx)(I.a,{className:t.avatar,children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign up"}),g&&Object(a.jsx)(C.a,{color:"primary",children:"Sign up succsessful"}),O&&f&&Object(a.jsx)(C.a,{color:"secondary",children:"Email and username already exist"}),f&&!O&&Object(a.jsx)(C.a,{color:"secondary",children:"This username already exists"}),O&&!f&&Object(a.jsx)(C.a,{color:"secondary",children:"This email already exists"}),Object(a.jsxs)("form",{className:t.form,noValidate:!0,autoComplete:"off",children:[Object(a.jsxs)(G.a,{container:!0,spacing:2,children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(q.a,{name:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:n,value:c,error:""!=u,helperText:""==u?null:u})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lname",onChange:n,value:i,error:""!=j,helperText:""==j?null:j})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:n,value:s,error:""!=m,helperText:""==m?null:m})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:n,value:d,error:""!=h,helperText:""==h?null:h})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password1",label:"Password",type:"password",id:"password1",onChange:n,value:o,error:""!=b,helperText:""==b?null:b})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password2",label:"Confirm Password",type:"password",id:"password2",onChange:n,value:l,error:""!=x,helperText:""==x?null:x})}),Object(a.jsxs)(G.a,{item:!0,container:!0,xs:12,spacing:2,children:[Object(a.jsx)(G.a,{item:!0,xs:6,children:Object(a.jsx)(C.a,{variant:"body2",component:"label",htmlFor:"pp",children:"Profile picture"})}),Object(a.jsx)(G.a,{item:!0,xs:6,children:Object(a.jsx)("input",{type:"file",name:"pp",id:"pp",accept:".jpg,.jpeg,.png",onChange:v,value:y})})]})]}),Object(a.jsx)(E.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:r,children:"Sign Up"}),Object(a.jsx)(G.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(R.a,{component:p.b,to:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}})}var Y=n(96),Z=n.n(Y),$=n(95),ee=n.n($),te=n(94),ne=n.n(te),ae=Object(f.a)((function(e){return{large:{width:e.spacing(15),height:e.spacing(15)},container:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4)},username:{marginTop:e.spacing(2)},info:{padding:e.spacing(2)}}}));function re(e){var t=ae(),n=Object(b.g)().username;return Object(r.useEffect)((function(){return e.onMount(n),function(){e.onUnmount()}}),[n]),Object(a.jsx)(F,{children:function(e){var n=e.isEditingProfile,r=e.userProfile,c=e.currentUser,i=e.handleProfileEditSave,s=e.handleProfileEdit,o=e.onChange,l=e.username,d=e.fname,u=e.lname,j=e.email,m=e.phoneNumber,h=e.handleFileSelect,p=e.selectedPPpath,x=e.fnameError,f=e.lnameError,O=e.usernameError,g=e.emailError,v=e.emailExists,y=e.usernameExists,N=e.phoneNumberExists;return Object(a.jsx)(a.Fragment,{children:-1===r?null:Object(a.jsx)(a.Fragment,{children:null===r?Object(a.jsx)(b.a,{to:"/"}):Object(a.jsx)(J.a,{maxWidth:"xs",children:null===c?null:Object(a.jsxs)("div",{className:t.container,children:[Object(a.jsx)(I.a,{className:t.large,src:r.profile_picture?"/static/images/"+r.profile_picture.filename:null}),y?Object(a.jsx)(C.a,{color:"secondary",children:"Username already exists"}):null,v?Object(a.jsx)(C.a,{color:"secondary",children:"Email already exists"}):null,N?Object(a.jsx)(C.a,{color:"secondary",children:"Phone number already exists"}):null,""!==O?Object(a.jsx)(C.a,{color:"secondary",children:O}):null,""!==x?Object(a.jsx)(C.a,{color:"secondary",children:x}):null,""!==f?Object(a.jsx)(C.a,{color:"secondary",children:f}):null,""!==g?Object(a.jsx)(C.a,{color:"secondary",children:g}):null,n?Object(a.jsx)(q.a,{variant:"outlined",value:l,label:"Username",name:"username",className:t.username,onChange:o}):Object(a.jsx)(C.a,{component:"h1",variant:"h4",className:t.username,children:r.username}),Object(a.jsxs)(G.a,{container:!0,spacing:2,className:t.info,children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:n?Object(a.jsx)(q.a,{variant:"outlined",value:d,label:"First Name",name:"fname",onChange:o}):Object(a.jsxs)(C.a,{children:["First Name: ",r.fname]})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:n?Object(a.jsx)(q.a,{variant:"outlined",value:u,label:"Last Name",name:"lname",onChange:o}):Object(a.jsxs)(C.a,{children:["Last Name: ",r.lname]})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:n?Object(a.jsx)(q.a,{variant:"outlined",value:j,label:"Email",name:"email",onChange:o}):Object(a.jsxs)(C.a,{children:["Email: ",r.email]})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:n?Object(a.jsx)(q.a,{variant:"outlined",value:m,label:"Phone number",name:"phoneNumber",onChange:o}):Object(a.jsxs)(C.a,{children:["Phone Number:",r.phoneNumber?r.phoneNumber:" Not specified"]})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsxs)(C.a,{children:["Experience Level: ",r.experience_level]})}),c.user_id===r.user_id?Object(a.jsx)(a.Fragment,{children:n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(E.a,{variant:"contained",color:"primary",startIcon:Object(a.jsx)(ne.a,{}),onClick:i,children:"Save"})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)("input",{type:"file",name:"pp",id:"pp",accept:".jpg,.jpeg,.png",onChange:h,value:p})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(E.a,{variant:"contained",color:"secondary",startIcon:Object(a.jsx)(ee.a,{}),children:"Delete"})}),Object(a.jsx)(G.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(E.a,{variant:"contained",color:"primary",startIcon:Object(a.jsx)(Z.a,{}),onClick:s,children:"Edit"})})]})}):null]})]})})})})}})}var ce=n(201),ie=n(205),se=n(195),oe=n(155),le=Object(f.a)((function(e){return{container:{display:"flex",flexDirection:"column",flexWrap:"wrap"},innerContainer:{display:"flex",flexGrow:1,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},sortBy:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},radioButtons:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}}));function de(){var e=le();return Object(a.jsx)(F,{children:function(t){var n=t.categories,r=t.handleToolBarCategorySelect,c=t.title,i=t.colour,s=t.place,o=t.sortBy,l=t.howToSort,d=t.handleNoticeFilterChange,u=t.handleNoticeFilter;return Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsxs)("div",{className:e.innerContainer,children:[Object(a.jsx)(q.a,{variant:"outlined",label:"Title",name:"title",size:"small",value:c,onChange:d}),Object(a.jsx)(q.a,{variant:"outlined",label:"Colour",name:"colour",size:"small",value:i,onChange:d}),Object(a.jsx)(q.a,{variant:"outlined",label:"Place",name:"place",size:"small",value:s,onChange:d})]}),Object(a.jsx)("div",{className:e.innerContainer,children:n.map((function(e){return Object(a.jsx)(H.a,{control:Object(a.jsx)(A.a,{onChange:r,name:e.category_name,color:"primary",value:e.category_name}),label:e.category_name},e.category_name)}))}),Object(a.jsxs)(se.a,{component:"fieldset",className:e.sortBy,children:[Object(a.jsx)(oe.a,{component:"legend",children:"Sort by"}),Object(a.jsxs)(ie.a,{name:"sortBy",value:o,onChange:d,className:e.radioButtons,children:[Object(a.jsx)(H.a,{value:"date_created",control:Object(a.jsx)(ce.a,{}),label:"Date"}),Object(a.jsx)(H.a,{value:"title",control:Object(a.jsx)(ce.a,{}),label:"Title"}),Object(a.jsx)(H.a,{value:"place",control:Object(a.jsx)(ce.a,{}),label:"Place"}),Object(a.jsx)(H.a,{value:"colour",control:Object(a.jsx)(ce.a,{}),label:"Colour"})]})]}),Object(a.jsx)(se.a,{component:"fieldset",className:e.sortBy,children:Object(a.jsxs)(ie.a,{name:"howToSort",value:l,onChange:d,className:e.radioButtons,children:[Object(a.jsx)(H.a,{value:"DESC",control:Object(a.jsx)(ce.a,{}),label:"Descending"}),Object(a.jsx)(H.a,{value:"ASC",control:Object(a.jsx)(ce.a,{}),label:"Ascending"})]})}),Object(a.jsx)(E.a,{variant:"contained",onClick:u,children:"Filter"})]})}})}var ue=Object(f.a)((function(e){return{container:{display:"flex",flexDirection:"row",justifyContent:"space-between",textDecoration:"none",color:"inherit"},image:{width:100,height:100},cell:{}}}));function je(e){var t=e.value,n=ue();return Object(a.jsxs)(p.b,{className:n.container,to:"/notice/"+t.item_notice_id,children:[Object(a.jsx)("div",{className:n.cell,children:Object(a.jsx)("img",{src:t.fname?"/static/images/"+t.fname:"/static/iamges/no_image.png",className:n.image})}),Object(a.jsx)("div",{className:n.cell,children:Object(a.jsxs)("p",{children:["Title:",t.title]})}),Object(a.jsxs)("div",{className:n.cell,children:[Object(a.jsxs)("p",{children:["Colour:",t.colour?t.colour:"Not specified"]})," "]}),Object(a.jsxs)("div",{className:n.cell,children:[Object(a.jsxs)("p",{children:["Place:",t.place?t.place:"Not specified"]})," "]}),Object(a.jsx)("div",{className:n.cell,children:Object(a.jsxs)("p",{children:["Date:",t.date_created?t.date_created:"Not specified"]})}),Object(a.jsx)("div",{className:n.cell,children:Object(a.jsxs)("p",{children:["Sent by: ",t.username]})})]})}var me=Object(f.a)((function(e){return{container:{display:"flex",flexDirection:"column",paddingTop:e.spacing(4),paddingBottom:e.spacing(4),paddingLeft:e.spacing(8),paddingRight:e.spacing(8)},notices:{display:"flex",flexDirection:"column",justifyContent:"space-between"}}}));function he(){var e=me();return Object(a.jsx)(F,{children:function(t){var n=t.notices;return Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(de,{}),Object(a.jsx)("div",{className:e.notices,children:n.map((function(e,t){return Object(a.jsx)(je,{value:e},t)}))})]})}})}var pe=n(200),be=n(196),xe=n(202),fe=Object(f.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4)},forms:{paddingTop:e.spacing(2)}}}));function Oe(){var e=fe();return Object(a.jsx)(F,{children:function(t){var n=t.currentUser,r=t.title,c=t.place,i=t.colour,s=t.noticeDescription,o=t.noticeType,l=t.onSwitchChange,d=t.onChange,u=t.handleCreate,j=t.handleNoticeFileSelect,m=t.noticeFilePath,h=t.categories,p=t.selectedCategory,b=t.colourError,x=t.noticeDescriptionError,f=t.noticeTypeError,O=t.placeError,g=t.titleError;return Object(a.jsx)(a.Fragment,{children:null===n||-1===n?null:Object(a.jsx)(J.a,{maxWidth:"xs",children:Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(C.a,{component:"h1",variant:"h4",children:"Create New Notice"}),b?Object(a.jsx)(C.a,{color:"secondary",children:b}):null,x?Object(a.jsx)(C.a,{color:"secondary",children:x}):null,f?Object(a.jsx)(C.a,{color:"secondary",children:f}):null,O?Object(a.jsx)(C.a,{color:"secondary",children:O}):null,g?Object(a.jsx)(C.a,{color:"secondary",children:g}):null,Object(a.jsx)(C.a,{component:"div",children:Object(a.jsxs)(G.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(G.a,{item:!0,children:"Found"}),Object(a.jsx)(G.a,{item:!0,children:Object(a.jsx)(pe.a,{checked:o,onChange:l,color:"primary",name:"noticeType",inputProps:{"aria-label":"primary checkbox"}})}),Object(a.jsx)(G.a,{item:!0,children:"Searching"})]})}),Object(a.jsxs)(G.a,{container:!0,spacing:2,className:e.forms,children:[Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",name:"title",label:"Title",fullWidth:!0,required:!0,value:r,onChange:d})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",name:"colour",label:"Colour",fullWidth:!0,value:i,onChange:d})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",name:"place",label:"Place",fullWidth:!0,value:c,onChange:d})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(q.a,{variant:"outlined",name:"noticeDescription",label:"Description",fullWidth:!0,multiline:!0,rows:4,value:s,onChange:d})}),Object(a.jsx)(G.a,{item:!0,xs:6,children:Object(a.jsx)(C.a,{variant:"body2",component:"label",htmlFor:"noticePictures",children:"Add pictures"})}),Object(a.jsx)(G.a,{item:!0,xs:6,children:Object(a.jsx)("input",{type:"file",name:"noticePictures",id:"noticePictures",accept:".jpg,.jpeg,.png",onChange:j,value:m,multiple:!0})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsxs)(se.a,{variant:"outlined",fullWidth:!0,children:[Object(a.jsx)(be.a,{required:!0,id:"category",children:"Choose a category"}),Object(a.jsx)(xe.a,{labelId:"category",id:"category",value:p,onChange:d,label:"Choose a category",fullWidth:!0,name:"selectedCategory",required:!0,children:h.map((function(e,t){return Object(a.jsx)(_.a,{value:e.category_name,children:e.category_name},t)}))})]})}),Object(a.jsx)(G.a,{item:!0,xs:12,children:Object(a.jsx)(E.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:u,children:"CREATE"})})]})]})})})}})}var ge=n(20),ve=n.n(ge),Ce=Object(f.a)((function(e){return{container:{display:"flex",flexDirection:"row",justifyContent:"space-between",textDecoration:"none",color:"inherit"},image:{width:100,height:100},outerContainer:{padding:e.spacing(4),display:"flex",flexDirection:"column",justifyContent:"center"},comment1:{fontWeight:"700",color:"green"},comment2:{fontWeight:"700",color:"red"}}}));function Ee(e){var t=this,n=e.onMount,c=Ce(),i=Object(b.g)().id;return Object(r.useEffect)((function(){n(i)}),[]),Object(a.jsx)(F,{children:function(e){var n=e.notices,r=e.comment,s=e.onChange,o=e.handleCommentSubmit,l=e.comments,d=e.currentUser,u=e.handleNotHelpfulButton,j=e.handleHelpfulButton;return Object(a.jsxs)("div",{className:c.outerContainer,children:[Object(a.jsxs)(p.b,{className:c.container,to:"/notice/"+n.find((function(e){return e.item_notice_id==i})).item_notice_id,children:[Object(a.jsx)("div",{className:c.cell,children:Object(a.jsx)("img",{src:n.find((function(e){return e.item_notice_id==i})).fname?"/static/images"+n.find((function(e){return e.item_notice_id==i})).fname:"/static/images/no_image.png",className:c.image})}),Object(a.jsx)("div",{className:c.cell,children:Object(a.jsxs)("p",{children:["Title:",n.find((function(e){return e.item_notice_id==i})).title]})}),Object(a.jsxs)("div",{className:c.cell,children:[Object(a.jsxs)("p",{children:["Colour:",n.find((function(e){return e.item_notice_id==i})).colour?n.find((function(e){return e.item_notice_id==i})).colour:"Not specified"]})," "]}),Object(a.jsxs)("div",{className:c.cell,children:[Object(a.jsxs)("p",{children:["Place:",n.find((function(e){return e.item_notice_id==i})).place?n.find((function(e){return e.item_notice_id==i})).place:"Not specified"]})," "]}),Object(a.jsx)("div",{className:c.cell,children:Object(a.jsxs)("p",{children:["Date:",n.find((function(e){return e.item_notice_id==i})).date_created?n.find((function(e){return e.item_notice_id==i})).date_created:"Not specified"]})}),Object(a.jsx)("div",{className:c.cell,children:Object(a.jsxs)("p",{children:["Sent by:"," ",n.find((function(e){return e.item_notice_id==i})).username]})})]}),Object(a.jsx)("p",{children:n.find((function(e){return e.item_notice_id==i})).notice_description}),Object(a.jsx)(q.a,{variant:"outlined",label:"Comment",multiline:!0,rows:"4",name:"comment",value:r,onChange:s}),Object(a.jsx)(E.a,{variant:"contained",onClick:o.bind(t,i),children:"Send comment"}),Object(a.jsx)("ul",{children:l.map((function(e,r){return Object(a.jsxs)("li",{className:e.helpful?c.comment1:e.not_helpful?c.comment2:null,children:[e.content," ",Object(a.jsx)("br",{})," Sent by: ",e.username,Object(a.jsx)("br",{}),!d||d.username!=n.find((function(e){return e.item_notice_id==i})).username||e.helpful||e.not_helpful?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{onClick:j.bind(t,e.comment_id,i),children:"Helpful"}),Object(a.jsx)(E.a,{onClick:u.bind(t,e.comment_id,i),children:"Not Helpful"})]})]},r)}))})]})}})}var ye=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(d.a)({},n,r))},a.handleNoticeFilterChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(d.a)({},n,r))},a.handleSwitchChange=function(e){var t=e.target,n=t.name,r=t.checked;a.setState(Object(d.a)({},n,r))},a.handleSignUpSubmit=function(){var e=new FormData;e.append("fname",a.state.fname),e.append("lname",a.state.lname),e.append("username",a.state.username),e.append("email",a.state.email),e.append("password1",a.state.password1),e.append("password2",a.state.password2),a.state.selectedPP&&e.append("file",a.state.selectedPP),ve.a.post("/signup",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){a.clearForms(),a.setState({signUpSuccsessful:!0})})).catch((function(e){var t=e.response.data,n=t.fnameError,r=t.lnameError,c=t.usernameError,i=t.emailError,s=t.password1Error,o=t.password2Error,l=t.usernameExists,d=t.emailExists;a.setState({fnameError:n,lnameError:r,usernameError:c,emailError:i,password1Error:s,password2Error:o,usernameExists:l,emailExists:d,signUpSuccsessful:!1,selectedPP:null,selectedPPpath:""})}))},a.handleLoginSubmit=function(){var e={username:a.state.username,password:a.state.password1};ve.a.post("/signin",e).then((function(e){var t=e.data,n=t.currentUser,r=t.wrongCredentials;a.setState({username:"",password1:"",currentUser:n,wrongCredentials:r})})).catch((function(e){var t=e.response.data,n=t.currentUser,r=t.wrongCredentials;a.setState({currentUser:n,wrongCredentials:r})}))},a.handleLogout=function(){ve.a.post("/signout").then((function(e){var t=e.data.currentUser;a.setState({currentUser:t})}))},a.fetchUser=function(e){if(e===a.state.currentUser.username){var t=Object(l.a)({},a.state.currentUser);a.setState({userProfile:t})}else ve.a.get("/user/"+e).then((function(e){var t=e.data.user;return a.setState({userProfile:t})})).catch((function(e){var t=e.response.data.user;return a.setState({userProfile:t})}))},a.clearProfileUser=function(){a.setState({userProfile:-1}),a.clearForms()},a.clearForms=function(){a.setState({fname:"",lname:"",username:"",email:"",phoneNumber:"",password1:"",password2:"",fnameError:"",lnameError:"",usernameError:"",emailError:"",phoneNumberError:"",password1Error:"",password2Error:"",usernameExists:!1,emailExists:!1,phoneNumberExists:!1,wrongCredentials:!1,signUpSuccsessful:!1,isEditingProfile:!1,selectedPP:null,selectedPPpath:"",noticeFilePath:"",noticePictures:[],selectedCategory:"Other",colourError:"",noticeDescriptionError:"",noticeTypeError:"",placeError:"",titleError:"",title:"",noticeDescription:"",noticeType:!1,place:"",colour:""})},a.handleFileSelect=function(e){a.setState({selectedPP:e.target.files[0],selectedPPpath:e.target.value})},a.handleProfileEdit=function(){a.setState({username:a.state.currentUser.username,fname:a.state.currentUser.fname,lname:a.state.currentUser.lname,email:a.state.currentUser.email,phoneNumber:a.state.currentUser.phoneNumber,isEditingProfile:!0})},a.handleProfileEditSave=function(){var e=new FormData,t=a.state,n=t.username,r=t.fname,c=t.lname,i=t.phoneNumber,s=t.selectedPP,o=t.email;e.append("username",n),e.append("fname",r),e.append("lname",c),e.append("phoneNumber",i),e.append("email",o),s&&e.append("file",s),ve.a.put("/user",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t=e.data.currentUser;a.setState({currentUser:t,userProfile:t}),a.clearForms()})).catch((function(e){var t=e.response.data,n=t.fnameError,r=t.lnameError,c=t.usernameError,i=t.emailError,s=t.phoneNumberError,o=t.usernameExists,l=t.emailExists,d=t.phoneNumberExists;a.clearForms(),a.setState({fnameError:n,lnameError:r,usernameError:c,emailError:i,phoneNumberError:s,usernameExists:o,emailExists:l,phoneNumberExists:d})}))},a.handleCreate=function(){var e=new FormData,t=a.state,n=t.title,r=t.place,c=t.colour,i=t.noticeType,s=t.noticeDescription,o=t.noticePictures,l=t.selectedCategory;e.append("title",n),e.append("place",r),e.append("colour",c),e.append("item_notice_type",i?"1":"0"),e.append("notice_description",s),e.append("fileAmount",String(o.length)),e.append("category_name",l);for(var d=0;d<o.length;d++)e.append("file"+String(d),o[d]);ve.a.post("/notice",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t=e.data,n=t.colourError,r=t.noticeDescriptionError,c=t.noticeTypeError,i=t.placeError,s=t.titleError;a.clearForms(),a.setState({colourError:n,noticeDescriptionError:r,noticeTypeError:c,placeError:i,titleError:s})})).catch((function(e){var t=e.response.data,n=t.colourError,r=t.noticeDescriptionError,c=t.noticeTypeError,i=t.placeError,s=t.titleError;a.clearForms(),a.setState({colourError:n,noticeDescriptionError:r,noticeTypeError:c,placeError:i,titleError:s})}))},a.handleNoticeFileSelect=function(e){a.setState({noticePictures:e.target.files,noticeFilePath:e.target.value})},a.handleToolBarCategorySelect=function(e){e.target.checked?a.setState({selectedCategories:[].concat(Object(o.a)(a.state.selectedCategories),[e.target.value])}):a.setState({selectedCategories:a.state.selectedCategories.filter((function(t){return t!==e.target.value}))})},a.handleNoticeFilter=function(){var e={title:a.state.title,place:a.state.place,colour:a.state.colour,selectedCategories:a.state.selectedCategories,sortBy:a.state.sortBy,howToSort:a.state.howToSort};ve.a.post("/notices",e).then((function(e){var t=e.data.notices;a.setState({notices:t})}))},a.handleCommentSubmit=function(e){ve.a.post("/comment",{comment:a.state.comment,notice_id:e}).then((function(){a.setState({comment:""}),a.handleGetComments(e)}))},a.handleGetComments=function(e){console.log(e),ve.a.get("/comment/"+e).then((function(e){var t=e.data.comments;return a.setState({comments:t})}))},a.handleHelpfulButton=function(e,t){ve.a.get("/helpful/"+e).then((function(){return a.handleGetComments(t)}))},a.handleNotHelpfulButton=function(e,t){ve.a.get("/not_helpful/"+e).then((function(){return a.handleGetComments(t)}))},a.state={fname:"",lname:"",username:"",email:"",phoneNumber:"",password1:"",password2:"",fnameError:"",lnameError:"",usernameError:"",emailError:"",phoneNumberError:"",password1Error:"",password2Error:"",usernameExists:!1,emailExists:!1,phoneNumberExists:!1,currentUser:-1,wrongCredentials:!1,signUpSuccsessful:!1,isEditingProfile:!1,userProfile:-1,selectedPP:null,selectedPPpath:"",title:"",noticeDescription:"",noticeType:!1,place:"",colour:"",noticeFilePath:"",noticePictures:[],categories:[],selectedCategory:"Other",colourError:"",noticeDescriptionError:"",noticeTypeError:"",placeError:"",titleError:"",selectedCategories:[],sortBy:"date_created",howToSort:"DESC",notices:[],comment:"",comments:[]},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;ve.a.get("/user").then((function(t){var n=t.data.currentUser;e.setState({currentUser:n})})).catch((function(t){var n=t.response.data.currentUser;e.setState({currentUser:n})})),ve.a.get("/categories").then((function(t){var n=t.data.categories;return e.setState({categories:n})})),this.handleNoticeFilter()}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[-1===this.state.currentUser?null:Object(a.jsx)(p.a,{children:Object(a.jsxs)(P,{value:Object(l.a)(Object(l.a)({},this.state),{},{onChange:this.handleChange,handleSignUpSubmit:this.handleSignUpSubmit,handleLoginSubmit:this.handleLoginSubmit,handleLogout:this.handleLogout,handleFileSelect:this.handleFileSelect,handleProfileEdit:this.handleProfileEdit,handleProfileEditSave:this.handleProfileEditSave,onSwitchChange:this.handleSwitchChange,handleCreate:this.handleCreate,handleNoticeFileSelect:this.handleNoticeFileSelect,handleToolBarCategorySelect:this.handleToolBarCategorySelect,handleNoticeFilterChange:this.handleNoticeFilterChange,handleNoticeFilter:this.handleNoticeFilter,handleCommentSubmit:this.handleCommentSubmit,handleHelpfulButton:this.handleHelpfulButton,handleNotHelpfulButton:this.handleNotHelpfulButton}),children:[Object(a.jsx)(W,{}),Object(a.jsxs)(b.d,{children:[Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.b,{exact:!0,path:"/",component:he}),Object(a.jsx)(b.b,{exact:!0,path:"/profile/:username",render:function(t){return Object(a.jsx)(a.Fragment,{children:null===e.state.currentUser?Object(a.jsx)(b.a,Object(l.a)({to:"/signin"},t)):Object(a.jsx)(re,Object(l.a)(Object(l.a)({},t),{},{onMount:e.fetchUser,onUnmount:e.clearProfileUser}))})}}),Object(a.jsx)(b.b,{exact:!0,path:"/notice/:id",render:function(t){return Object(a.jsx)(Ee,Object(l.a)(Object(l.a)({},t),{},{onMount:e.handleGetComments}))}}),Object(a.jsx)(b.b,{exact:!0,path:"/create",render:function(t){return Object(a.jsx)(a.Fragment,{children:null===e.state.currentUser?Object(a.jsx)(b.a,Object(l.a)({to:"signin"},t)):Object(a.jsx)(Oe,Object(l.a)({},t))})}}),Object(a.jsx)(b.b,{exact:!0,path:"/signin",render:function(t){return Object(a.jsx)(a.Fragment,{children:e.state.currentUser?Object(a.jsx)(b.a,Object(l.a)({to:"/"},t)):Object(a.jsx)(V,Object(l.a)(Object(l.a)({},t),{},{onUnmount:e.clearForms}))})}}),Object(a.jsx)(b.b,{exact:!0,path:"/signup",render:function(t){return Object(a.jsx)(a.Fragment,{children:e.state.currentUser?Object(a.jsx)(b.a,Object(l.a)({to:"/"},t)):Object(a.jsx)(X,Object(l.a)(Object(l.a)({},t),{},{onUnmount:e.clearForms}))})}})]}),")"]})]})}),")"]})}}]),n}(r.Component),Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ye,{})}),document.getElementById("root")),Ne()}},[[151,1,2]]]);
//# sourceMappingURL=main.b04f99db.chunk.js.map